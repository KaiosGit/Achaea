{"name":"mind sense","enabled":true,"description":"Mind Sense reporting","type":"group","id":1,"items":[{"type":"alias","name":"ReportMindSenseParty","enabled":true,"id":2,"matching":"regexp","whole_words":false,"case_sensitive":false,"prefix_suffix":true,"actions":[{"action":"script","script":"send_command(\"MIND SENSE \" + args[1]);"},{"action":"waitfor","text":"^You seek out the mind of (\\w+) and an image of (.+) appears in your mind\\.$","matching":"regexp","whole_words":false,"case_sensitive":false,"expire":"3"},{"action":"if","cond-type1":"variable","cond-val1":"@sense_command","cond-type2":"value","cond-val2":"1","cond-op":"eq","cond-mod":"","cond-cs":false,"dothen":"continue","doelse":"stop","dothenlabel":"","doelselabel":""},{"action":"script","script":"var sense_name = client.get_variable(\"sense_name\");\nvar sense_area = client.get_variable(\"sense_area\");\nvar sense_command = client.get_variable(\"sense_command\");\n    \nif (sense_command == 1) {\n    send_command(\"pt \" + sense_name + \" is at \" + sense_area);\n    client.set_variable(\"sense_command\", 0);\n    client.set_variable(\"sense_name\", \"\");\n    client.set_variable(\"sense_area\", \"\");\n}"},{"action":"stop"}],"text":"^msp (\\w+)$"},{"type":"alias","name":"ReportMindSenseArmy","enabled":true,"id":5,"matching":"regexp","whole_words":false,"case_sensitive":false,"prefix_suffix":true,"actions":[{"action":"script","script":"send_command(\"MIND SENSE \" + args[1]);"},{"action":"waitfor","text":"^You seek out the mind of (\\w+) and an image of (.+) appears in your mind\\.$","matching":"regexp","whole_words":false,"case_sensitive":false,"expire":"3"},{"action":"if","cond-type1":"variable","cond-val1":"@sense_command","cond-type2":"value","cond-val2":"1","cond-op":"eq","cond-mod":"","cond-cs":false,"dothen":"continue","doelse":"stop","dothenlabel":"","doelselabel":""},{"action":"script","script":"var sense_name = client.get_variable(\"sense_name\");\nvar sense_area = client.get_variable(\"sense_area\");\nvar sense_command = client.get_variable(\"sense_command\");\n    \nif (sense_command == 1) {\n    send_command(\"art \" + sense_name + \" is at \" + sense_area);\n    client.set_variable(\"sense_command\", 0);\n    client.set_variable(\"sense_name\", \"\");\n    client.set_variable(\"sense_area\", \"\");\n}"},{"action":"stop"}],"text":"^msa (\\w+)$"},{"type":"trigger","name":"SenseCommand","enabled":true,"id":6,"matching":"regexp","whole_words":true,"case_sensitive":true,"text":"^You seek out the mind of (\\w+) and an image of (.+) appears in your mind\\.$","actions":[{"action":"variable","varname":"@sense_command","valtype":"value","value":"1","op":"set"}]},{"type":"trigger","name":"Capture","enabled":true,"id":3,"matching":"regexp","whole_words":true,"case_sensitive":true,"text":"^You seek out the mind of (\\w+) and an image of (.+) appears in your mind\\.$","actions":[{"action":"variable","varname":"@sense_name","valtype":"capture","value":"1","op":"set"},{"action":"variable","varname":"@sense_area","valtype":"capture","value":"2","op":"set"}]}]}